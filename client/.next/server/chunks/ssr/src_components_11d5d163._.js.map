{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/components/AddPost/AddPost.module.css [app-ssr] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"addPostContainer\": \"AddPost-module__OQxqdq__addPostContainer\",\n  \"form\": \"AddPost-module__OQxqdq__form\",\n  \"input\": \"AddPost-module__OQxqdq__input\",\n  \"submitBtn\": \"AddPost-module__OQxqdq__submitBtn\",\n  \"textarea\": \"AddPost-module__OQxqdq__textarea\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 15, "column": 0}, "map": {"version":3,"sources":["file:///home/sassinzz13/programming-portfolio/stroberi-writes/client/src/components/EditPost/EditPost.jsx"],"sourcesContent":["'use client';\nimport React, { useState, useEffect } from \"react\";\nimport styles from \"../AddPost/AddPost.module.css\";\n\nconst EditPost = ({ post, onSuccess }) => {\n  if (!post) return <p>Loading post...</p>; // early return if post isn't ready\n\n  const [title, setTitle] = useState(post.title || \"\");\n  const [slug, setSlug] = useState(post.slug || \"\");\n  const [description, setDescription] = useState(post.body || \"\");\n  const [image, setImage] = useState(null); // optional new image\n  const [tags, setTags] = useState(post.tags || []);\n  const [status, setStatus] = useState(post.status || \"DF\");\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n  const [success, setSuccess] = useState(\"\");\n  const token = typeof window !== \"undefined\" ? localStorage.getItem(\"accessToken\") : null;\n\n  // Auto-generate slug if title changes\n  useEffect(() => {\n    const generateSlug = (text) => {\n      return text\n        .toLowerCase()\n        .trim()\n        .replace(/[^\\w\\s-]/g, \"\")\n        .replace(/\\s+/g, \"-\");\n    };\n    setSlug(generateSlug(title));\n  }, [title]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    setError(\"\");\n    setSuccess(\"\");\n\n    const formData = new FormData();\n    formData.append(\"title\", title);\n    formData.append(\"slug\", slug);\n    formData.append(\"body\", description);\n    formData.append(\"status\", status);\n    if (image) formData.append(\"image\", image);\n    if (tags.length > 0) tags.forEach(tag => formData.append(\"tags\", tag));\n\n    try {\n      const res = await fetch(`http://127.0.0.1:8000/api/blog/posts/${post.id}/edit/`, {\n        method: \"PUT\",\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n        body: formData,\n      });\n\n      if (!res.ok) {\n        const data = await res.json();\n        throw new Error(JSON.stringify(data));\n      }\n\n      setSuccess(\"Post updated successfully!\");\n      if (onSuccess) onSuccess();\n    } catch (err) {\n      setError(\"Failed to update post: \" + err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className={styles.addPostContainer}>\n      <h1>Edit Post</h1>\n\n      <form className={styles.form} onSubmit={handleSubmit}>\n        <input\n          type=\"text\"\n          placeholder=\"Title\"\n          className={styles.input}\n          value={title}\n          onChange={(e) => setTitle(e.target.value)}\n          required\n        />\n\n        <input\n          type=\"text\"\n          placeholder=\"Slug (auto-generated)\"\n          className={styles.input}\n          value={slug}\n          readOnly\n        />\n\n        <input\n          type=\"file\"\n          accept=\"image/*\"\n          className={styles.input}\n          onChange={(e) => setImage(e.target.files[0])}\n        />\n\n        <textarea\n          className={styles.textarea}\n          placeholder=\"Write your description here...\"\n          value={description}\n          onChange={(e) => setDescription(e.target.value)}\n          required\n        />\n\n        <select\n          className={styles.input}\n          value={tags[0] || \"\"}\n          onChange={(e) => setTags([e.target.value])}\n        >\n          <option value=\"\" disabled>Select a tag</option>\n          <option value=\"Creative Writing\">Creative Writing</option>\n          <option value=\"Poems\">Poems</option>\n          <option value=\"Short Stories\">Short Stories</option>\n          <option value=\"Literary Analysis\">Literary Analysis</option>\n          <option value=\"Entertainment\">Entertainment</option>\n        </select>\n\n        <select\n          className={styles.input}\n          value={status}\n          onChange={(e) => setStatus(e.target.value)}\n        >\n          <option value=\"DF\">Draft</option>\n          <option value=\"PB\">Published</option>\n        </select>\n\n        <button type=\"submit\" className={styles.submitBtn} disabled={loading}>\n          {loading ? \"Saving...\" : \"Save Changes\"}\n        </button>\n\n        {error && <p style={{ color: \"red\" }}>{error}</p>}\n        {success && <p style={{ color: \"green\" }}>{success}</p>}\n      </form>\n    </div>\n  );\n};\n\nexport default EditPost;\n"],"names":[],"mappings":"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","debugId":null}}]
}