{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/components/AddPost/AddPost.module.css [app-client] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"activeBtn\": \"AddPost-module__OQxqdq__activeBtn\",\n  \"addPostContainer\": \"AddPost-module__OQxqdq__addPostContainer\",\n  \"editor\": \"AddPost-module__OQxqdq__editor\",\n  \"editorContainer\": \"AddPost-module__OQxqdq__editorContainer\",\n  \"form\": \"AddPost-module__OQxqdq__form\",\n  \"input\": \"AddPost-module__OQxqdq__input\",\n  \"is-editor-empty\": \"AddPost-module__OQxqdq__is-editor-empty\",\n  \"submitBtn\": \"AddPost-module__OQxqdq__submitBtn\",\n  \"textarea\": \"AddPost-module__OQxqdq__textarea\",\n  \"toolbar\": \"AddPost-module__OQxqdq__toolbar\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///home/sassinzz13/programming-portfolio/stroberi-writes/client/src/components/AddPost/AddPost.jsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState, useEffect, useRef } from \"react\";\nimport styles from \"./AddPost.module.css\";\nimport \"quill/dist/quill.snow.css\";\n\nconst AddPost = () => {\n  const [title, setTitle] = useState(\"\");\n  const [slug, setSlug] = useState(\"\");\n  const [description, setDescription] = useState(\"\"); // now Quill content\n  const [image, setImage] = useState(null);\n  const [tags, setTags] = useState([]);\n  const [status, setStatus] = useState(\"DF\");\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n  const [success, setSuccess] = useState(\"\");\n  const token =\n    typeof window !== \"undefined\" ? localStorage.getItem(\"accessToken\") : null;\n\n  const quillRef = useRef(null);\n  const editorRef = useRef(null);\n\n  // Auto-generate slug from title\n  useEffect(() => {\n    const generateSlug = (text) => {\n      return text\n        .toLowerCase()\n        .trim()\n        .replace(/[^\\w\\s-]/g, \"\")\n        .replace(/\\s+/g, \"-\");\n    };\n    setSlug(generateSlug(title));\n  }, [title]);\n\n  // Initialize Quill editor\n  useEffect(() => {\n    if (!editorRef.current) return;\n    // stops the doubling of quill\n    // ðŸ§¹ Ensure a clean container every mount\n    const container = document.createElement(\"div\");\n    container.style.minHeight = \"200px\";\n    container.style.background = \"white\";\n    container.style.marginBottom = \"1rem\";\n    editorRef.current.innerHTML = \"\";\n    editorRef.current.appendChild(container);\n    editorRef.current.innerHTML = \"\";\n    editorRef.current.appendChild(container);\n\n    let quillInstance;\n\n    const initQuill = async () => {\n      const Quill = (await import(\"quill\")).default;\n\n      quillInstance = new Quill(container, {\n        theme: \"snow\",\n        placeholder: \"Write your description here...\",\n        modules: {\n          toolbar: [\n            [{ header: [1, 2, 3, false] }],\n            [\"bold\", \"italic\", \"underline\", \"strike\"],\n            [{ list: \"ordered\" }, { list: \"bullet\" }],\n            [\"link\", \"image\"],\n            [\"clean\"],\n          ],\n        },\n      });\n\n      quillInstance.root.innerHTML = description;\n\n      quillInstance.on(\"text-change\", () => {\n        setDescription(quillInstance.root.innerHTML);\n      });\n\n      quillRef.current = quillInstance;\n    };\n\n    initQuill();\n\n    return () => {\n      // ðŸ§¹ Full cleanup\n      if (quillRef.current) {\n        quillRef.current.off(\"text-change\");\n        quillRef.current = null;\n      }\n      if (editorRef.current) {\n        editorRef.current.innerHTML = \"\"; // reset the wrapper div completely\n      }\n    };\n  }, []);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    setError(\"\");\n    setSuccess(\"\");\n\n    const formData = new FormData();\n    formData.append(\"title\", title);\n    formData.append(\"slug\", slug);\n    formData.append(\"body\", description); // Quill HTML\n    formData.append(\"status\", status);\n    if (image) formData.append(\"image\", image);\n    if (tags.length > 0) {\n      tags.forEach((tag) => formData.append(\"tags\", tag));\n    }\n\n    try {\n      const res = await fetch(\"http://127.0.0.1:8000/api/blog/posts/create/\", {\n        method: \"POST\",\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n        body: formData,\n      });\n\n      if (!res.ok) {\n        const data = await res.json();\n        throw new Error(JSON.stringify(data));\n      }\n\n      setSuccess(\"Post saved successfully!\");\n      setTitle(\"\");\n      setSlug(\"\");\n      setDescription(\"\");\n      if (quillRef.current) {\n        quillRef.current.root.innerHTML = \"\";\n      }\n      setImage(null);\n      setTags([]);\n      setStatus(\"DF\");\n    } catch (err) {\n      setError(\"Failed to create post: \" + err.message + \"Try logging in again\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className={styles.addPostContainer}>\n      <h1>Add New Post</h1>\n\n      <form className={styles.form} onSubmit={handleSubmit}>\n        {/* Title */}\n        <input\n          type=\"text\"\n          placeholder=\"Title\"\n          className={styles.input}\n          value={title}\n          onChange={(e) => setTitle(e.target.value)}\n          required\n        />\n\n        {/* Slug */}\n        <input\n          type=\"text\"\n          placeholder=\"Slug (auto-generated)\"\n          className={styles.input}\n          value={slug}\n          readOnly\n        />\n\n        {/* Image */}\n        <input\n          type=\"file\"\n          accept=\"image/*\"\n          className={styles.input}\n          onChange={(e) => setImage(e.target.files[0])}\n        />\n\n        {/* Quill Editor instead of textarea */}\n        <label>Description</label>\n        <div\n          ref={editorRef}\n          style={{\n            minHeight: \"200px\",\n            background: \"white\",\n            marginBottom: \"1rem\",\n          }}\n        />\n\n        {/* Tags */}\n        <select\n          className={styles.input}\n          value={tags[0] || \"\"}\n          onChange={(e) => setTags([e.target.value])}\n        >\n          <option value=\"\" disabled>\n            Select a tag\n          </option>\n          <option value=\"Creative Writing\">Creative Writing</option>\n          <option value=\"Poems\">Poems</option>\n          <option value=\"Short Stories\">Short Stories</option>\n          <option value=\"Literary Analysis\">Literary Analysis</option>\n          <option value=\"Entertainment\">Entertainment</option>\n        </select>\n\n        {/* Draft/Published */}\n        <select\n          className={styles.input}\n          value={status}\n          onChange={(e) => setStatus(e.target.value)}\n        >\n          <option value=\"DF\">Draft</option>\n          <option value=\"PB\">Published</option>\n        </select>\n\n        <button type=\"submit\" className={styles.submitBtn} disabled={loading}>\n          {loading ? \"Saving...\" : \"Save Post\"}\n        </button>\n\n        {error && <p style={{ color: \"red\" }}>{error}</p>}\n        {success && <p style={{ color: \"green\" }}>{success}</p>}\n      </form>\n    </div>\n  );\n};\n\nexport default AddPost;\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 393, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/components/Home/Home.module.css [app-client] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"activePage\": \"Home-module__6XXAVq__activePage\",\n  \"card\": \"Home-module__6XXAVq__card\",\n  \"grid\": \"Home-module__6XXAVq__grid\",\n  \"home\": \"Home-module__6XXAVq__home\",\n  \"image\": \"Home-module__6XXAVq__image\",\n  \"imageWrapper\": \"Home-module__6XXAVq__imageWrapper\",\n  \"pagination\": \"Home-module__6XXAVq__pagination\",\n  \"seeMore\": \"Home-module__6XXAVq__seeMore\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 409, "column": 0}, "map": {"version":3,"sources":["file:///home/sassinzz13/programming-portfolio/stroberi-writes/client/src/components/Home/Home.jsx"],"sourcesContent":["\"use client\";\nimport React, { useState, useEffect } from \"react\";\nimport Image from \"next/image\";\nimport styles from \"../Home/Home.module.css\";\nimport Link from \"next/link\";\nimport parse from \"html-react-parser\";\n\nconst Home = () => {\n  const [posts, setPosts] = useState([]);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [totalPages, setTotalPages] = useState(1);\n  const [loading, setLoading] = useState(false);\n\n  const fetchPosts = async (page = 1) => {\n    setLoading(true);\n    try {\n      const res = await fetch(`http://127.0.0.1:8000/api/blog/posts/?page=${page}`);\n      if (!res.ok) throw new Error(\"Failed to fetch posts\");\n      const data = await res.json();\n      setPosts(data.posts || []);          // <-- use 'posts' key\n      setTotalPages(data.total_pages || 1); // <-- total_pages from API\n      setCurrentPage(data.current_page || 1);\n    } catch (err) {\n      console.error(err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchPosts(currentPage);\n  }, [currentPage]);\n\n  const handlePageClick = (page) => setCurrentPage(page);\n\n  return (\n    <div className={styles.home}>\n      <h1>Latest Contents</h1>\n      {loading ? (\n        <p>Loading...</p>\n      ) : (\n        <>\n          <div className={styles.grid}>\n            {posts.map((post) => {\n              const date = new Date(post.publish);\n              const year = date.getFullYear();\n              const month = String(date.getMonth() + 1).padStart(2, \"0\");\n              const day = String(date.getDate()).padStart(2, \"0\");\n\n              return (\n                <Link\n                  href={`/viewcontent/${year}/${month}/${day}/${post.slug}`}\n                  key={post.id}\n                  className={styles.card}\n                >\n                  <div className={styles.imageWrapper}>\n                    <Image\n                      src={\n                        post.image\n                          ? `https://res.cloudinary.com/dwdhdzva8/${post.image}`\n                          : \"/STRAWBERRY.png\"\n                      }\n                      alt={post.title || \"Post image\"}\n                      fill\n                      className={styles.image}\n                    />\n                  </div>\n                  <p>{date.toDateString()}</p>\n                  <h2>{post.title}</h2>\n                  <p>{post.body ? (\n    <span>\n      {parse(post.body.replace(/<[^>]+>/g, \"\").slice(0, 150))}...\n    </span>\n  ) : (\n    <p>No content available.</p>\n  )}</p>\n                  <p>{post.tags.map(tag => tag).join(\", \")}</p>\n                </Link>\n              );\n            })}\n          </div>\n\n          {/* Pagination */}\n          <div className={styles.pagination}>\n            <button\n              onClick={() => currentPage > 1 && handlePageClick(currentPage - 1)}\n              disabled={currentPage === 1}\n            >\n              &lt;\n            </button>\n\n            {Array.from({ length: totalPages }, (_, i) => (\n              <button\n                key={i + 1}\n                onClick={() => handlePageClick(i + 1)}\n                className={currentPage === i + 1 ? styles.activePage : \"\"}\n              >\n                {i + 1}\n              </button>\n            ))}\n\n            <button\n              onClick={() => currentPage < totalPages && handlePageClick(currentPage + 1)}\n              disabled={currentPage === totalPages}\n            >\n              &gt;\n            </button>\n          </div>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default Home;\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 616, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/components/Login/Login.module.css [app-client] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"button\": \"Login-module__0PyEKq__button\",\n  \"card\": \"Login-module__0PyEKq__card\",\n  \"footer\": \"Login-module__0PyEKq__footer\",\n  \"form\": \"Login-module__0PyEKq__form\",\n  \"link\": \"Login-module__0PyEKq__link\",\n  \"title\": \"Login-module__0PyEKq__title\",\n  \"wrapper\": \"Login-module__0PyEKq__wrapper\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 631, "column": 0}, "map": {"version":3,"sources":["file:///home/sassinzz13/programming-portfolio/stroberi-writes/client/src/components/Login/Login.jsx"],"sourcesContent":["'use client'\nimport React, { useState, useContext } from \"react\";\nimport { AuthContext } from \"@/context/AuthContext\";\nimport styles from \"../Login/Login.module.css\";\nimport { useRouter } from \"next/navigation\";\n\nconst Login = () => {\n  const { login } = useContext(AuthContext);\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const router = useRouter();\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setError(\"\");\n\n    try {\n      const res = await fetch(\"http://127.0.0.1:8000/api/auth/login/\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ username, password }),\n      });\n\n      if (!res.ok) throw new Error(\"Invalid credentials\");\n      const data = await res.json();\n\n      // Update context\n      login(data.access, data.refresh);\n\n      // Redirect after login\n      router.push(\"/\");\n    } catch (err) {\n      setError(err.message);\n    }\n  };\n\n  return (\n    <div className={styles.wrapper}>\n      <div className={styles.card}>\n        <h1 className={styles.title}>Welcome Back</h1>\n        <form className={styles.form} onSubmit={handleSubmit}>\n          <label>Username</label>\n          <input\n            type=\"text\"\n            value={username}\n            onChange={(e) => setUsername(e.target.value)}\n            placeholder=\"your username\"\n            required\n          />\n\n          <label>Password</label>\n          <input\n            type=\"password\"\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n            placeholder=\"enter password\"\n            required\n          />\n\n          <button type=\"submit\" className={styles.button}>\n            Log In\n          </button>\n        </form>\n\n        {error && <p style={{ color: \"red\" }}>{error}</p>}\n\n        <p style={{ marginTop: \"1rem\", textAlign: \"center\" }}>\n          Don't have an account?{\" \"}\n          <button\n            onClick={() => router.push(\"/register\")}\n            className={styles.button}\n            style={{ padding: \"0.5rem 1rem\", fontSize: \"0.9rem\", cursor: \"pointer\" }}\n          >\n            Register\n          </button>\n        </p>\n      </div>\n    </div>\n  );\n};\n\nexport default Login;\n"],"names":[],"mappings":";;;;AACA;AACA;AACA;AACA;;;AAJA;;;;;AAMA,MAAM,QAAQ;;IACZ,MAAM,EAAE,KAAK,EAAE,GAAG,CAAA,GAAA,6JAAA,CAAA,aAAU,AAAD,EAAE,iIAAA,CAAA,cAAW;IACxC,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACzC,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACzC,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACnC,MAAM,SAAS,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD;IAEvB,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,SAAS;QAET,IAAI;YACF,MAAM,MAAM,MAAM,MAAM,yCAAyC;gBAC/D,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;oBAAE;oBAAU;gBAAS;YAC5C;YAEA,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM;YAC7B,MAAM,OAAO,MAAM,IAAI,IAAI;YAE3B,iBAAiB;YACjB,MAAM,KAAK,MAAM,EAAE,KAAK,OAAO;YAE/B,uBAAuB;YACvB,OAAO,IAAI,CAAC;QACd,EAAE,OAAO,KAAK;YACZ,SAAS,IAAI,OAAO;QACtB;IACF;IAEA,qBACE,6LAAC;QAAI,WAAW,kJAAA,CAAA,UAAM,CAAC,OAAO;kBAC5B,cAAA,6LAAC;YAAI,WAAW,kJAAA,CAAA,UAAM,CAAC,IAAI;;8BACzB,6LAAC;oBAAG,WAAW,kJAAA,CAAA,UAAM,CAAC,KAAK;8BAAE;;;;;;8BAC7B,6LAAC;oBAAK,WAAW,kJAAA,CAAA,UAAM,CAAC,IAAI;oBAAE,UAAU;;sCACtC,6LAAC;sCAAM;;;;;;sCACP,6LAAC;4BACC,MAAK;4BACL,OAAO;4BACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;4BAC3C,aAAY;4BACZ,QAAQ;;;;;;sCAGV,6LAAC;sCAAM;;;;;;sCACP,6LAAC;4BACC,MAAK;4BACL,OAAO;4BACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;4BAC3C,aAAY;4BACZ,QAAQ;;;;;;sCAGV,6LAAC;4BAAO,MAAK;4BAAS,WAAW,kJAAA,CAAA,UAAM,CAAC,MAAM;sCAAE;;;;;;;;;;;;gBAKjD,uBAAS,6LAAC;oBAAE,OAAO;wBAAE,OAAO;oBAAM;8BAAI;;;;;;8BAEvC,6LAAC;oBAAE,OAAO;wBAAE,WAAW;wBAAQ,WAAW;oBAAS;;wBAAG;wBAC7B;sCACvB,6LAAC;4BACC,SAAS,IAAM,OAAO,IAAI,CAAC;4BAC3B,WAAW,kJAAA,CAAA,UAAM,CAAC,MAAM;4BACxB,OAAO;gCAAE,SAAS;gCAAe,UAAU;gCAAU,QAAQ;4BAAU;sCACxE;;;;;;;;;;;;;;;;;;;;;;;AAOX;GA1EM;;QAKW,qIAAA,CAAA,YAAS;;;KALpB;uCA4ES","debugId":null}},
    {"offset": {"line": 810, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/components/SeeMore/SeeMore.module.css [app-client] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"card\": \"SeeMore-module__221lAG__card\",\n  \"grid\": \"SeeMore-module__221lAG__grid\",\n  \"home\": \"SeeMore-module__221lAG__home\",\n  \"image\": \"SeeMore-module__221lAG__image\",\n  \"imageWrapper\": \"SeeMore-module__221lAG__imageWrapper\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 823, "column": 0}, "map": {"version":3,"sources":["file:///home/sassinzz13/programming-portfolio/stroberi-writes/client/src/components/SeeMore/SeeMore.jsx"],"sourcesContent":["\"use client\";\nimport React from \"react\";\nimport styles from \"../SeeMore/SeeMore.module.css\";\nimport Image from \"next/image\";\n\n// This can be replaced with fetched content later\nconst allPosts = [\n  {\n    title: \"Under the Stars\",\n    image: \"/em.jpg\",\n    date: \"Aug 7, 2025\",\n    description: \"Night sky poetry.\",\n    category: \"Poems\",\n  },\n  {\n    title: \"Midnight Express\",\n    image: \"/em.jpg\",\n    date: \"Aug 6, 2025\",\n    description: \"Ride into silence.\",\n    category: \"Short Stories\",\n  },\n  {\n    title: \"Art of War\",\n    image: \"/em.jpg\",\n    date: \"Aug 5, 2025\",\n    description: \"Sun Tzu, remixed.\",\n    category: \"Literary Analysis\",\n  },\n  {\n    title: \"Rain Dancer\",\n    image: \"/em.jpg\",\n    date: \"Aug 4, 2025\",\n    description: \"A ritual in the storm.\",\n    category: \"Creative Writing\",\n  },\n  {\n    title: \"Quantum Sleep\",\n    image: \"/em.jpg\",\n    date: \"Aug 3, 2025\",\n    description: \"Science poem.\",\n    category: \"Poems\",\n  },\n  {\n    title: \"The Sandstorm\",\n    image: \"/em.jpg\",\n    date: \"Aug 2, 2025\",\n    description: \"Blinded by the wind.\",\n    category: \"Short Stories\",\n  },\n];\n\nconst SeeMore = () => {\n  return (\n    <div className={styles.home}>\n      <h1>More Contents</h1>\n      <div className={styles.grid}>\n        {allPosts.map((post, index) => (\n          <div className={styles.card} key={index}>\n            <div className={styles.imageWrapper}>\n              <Image\n                src={post.image}\n                alt={post.title}\n                fill\n                className={styles.image}\n              />\n            </div>\n            <p>{post.date}</p>\n            <h2>{post.title}</h2>\n            <p>{post.description}</p>\n            <p>{post.category}</p>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default SeeMore;\n"],"names":[],"mappings":";;;;AACA;AACA;AACA;AAHA;;;;;AAKA,kDAAkD;AAClD,MAAM,WAAW;IACf;QACE,OAAO;QACP,OAAO;QACP,MAAM;QACN,aAAa;QACb,UAAU;IACZ;IACA;QACE,OAAO;QACP,OAAO;QACP,MAAM;QACN,aAAa;QACb,UAAU;IACZ;IACA;QACE,OAAO;QACP,OAAO;QACP,MAAM;QACN,aAAa;QACb,UAAU;IACZ;IACA;QACE,OAAO;QACP,OAAO;QACP,MAAM;QACN,aAAa;QACb,UAAU;IACZ;IACA;QACE,OAAO;QACP,OAAO;QACP,MAAM;QACN,aAAa;QACb,UAAU;IACZ;IACA;QACE,OAAO;QACP,OAAO;QACP,MAAM;QACN,aAAa;QACb,UAAU;IACZ;CACD;AAED,MAAM,UAAU;IACd,qBACE,6LAAC;QAAI,WAAW,sJAAA,CAAA,UAAM,CAAC,IAAI;;0BACzB,6LAAC;0BAAG;;;;;;0BACJ,6LAAC;gBAAI,WAAW,sJAAA,CAAA,UAAM,CAAC,IAAI;0BACxB,SAAS,GAAG,CAAC,CAAC,MAAM,sBACnB,6LAAC;wBAAI,WAAW,sJAAA,CAAA,UAAM,CAAC,IAAI;;0CACzB,6LAAC;gCAAI,WAAW,sJAAA,CAAA,UAAM,CAAC,YAAY;0CACjC,cAAA,6LAAC,gIAAA,CAAA,UAAK;oCACJ,KAAK,KAAK,KAAK;oCACf,KAAK,KAAK,KAAK;oCACf,IAAI;oCACJ,WAAW,sJAAA,CAAA,UAAM,CAAC,KAAK;;;;;;;;;;;0CAG3B,6LAAC;0CAAG,KAAK,IAAI;;;;;;0CACb,6LAAC;0CAAI,KAAK,KAAK;;;;;;0CACf,6LAAC;0CAAG,KAAK,WAAW;;;;;;0CACpB,6LAAC;0CAAG,KAAK,QAAQ;;;;;;;uBAZe;;;;;;;;;;;;;;;;AAkB5C;KAxBM;uCA0BS","debugId":null}},
    {"offset": {"line": 969, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/components/SignUp/SignUp.module.css [app-client] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"button\": \"SignUp-module__4gBqdW__button\",\n  \"card\": \"SignUp-module__4gBqdW__card\",\n  \"footer\": \"SignUp-module__4gBqdW__footer\",\n  \"form\": \"SignUp-module__4gBqdW__form\",\n  \"link\": \"SignUp-module__4gBqdW__link\",\n  \"title\": \"SignUp-module__4gBqdW__title\",\n  \"wrapper\": \"SignUp-module__4gBqdW__wrapper\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 984, "column": 0}, "map": {"version":3,"sources":["file:///home/sassinzz13/programming-portfolio/stroberi-writes/client/src/components/SignUp/SignUp.jsx"],"sourcesContent":["\"use client\";\nimport React, { useState } from \"react\";\nimport styles from \"../SignUp/SignUp.module.css\";\n\nconst SignUp = () => {\n  \n  return (\n    <div className={styles.wrapper}>\n      <div className={styles.card}>\n        <h1 className={styles.title}>Create an Account</h1>\n        <form className={styles.form}>\n          <label>Name</label>\n          <input\n            type=\"text\"\n            required\n            placeholder=\"Jane Doe\"\n          />\n\n          <label>Email</label>\n          <input\n            type=\"email\"\n            required\n            placeholder=\"you@example.com\"\n          />\n\n          <label>Password</label>\n          <input\n            type=\"password\"\n            required\n            placeholder=\"password\"\n          />\n\n          <button type=\"submit\" className={styles.button}>\n            Sign Up\n          </button>\n        </form>\n\n        <p className={styles.footer}>\n          Already have an account?{\" \"}\n          <span className={styles.link}>Log in</span>\n        </p>\n      </div>\n    </div>\n  );\n};\n\nexport default SignUp;\n"],"names":[],"mappings":";;;;AACA;AACA;AAFA;;;;AAIA,MAAM,SAAS;IAEb,qBACE,6LAAC;QAAI,WAAW,oJAAA,CAAA,UAAM,CAAC,OAAO;kBAC5B,cAAA,6LAAC;YAAI,WAAW,oJAAA,CAAA,UAAM,CAAC,IAAI;;8BACzB,6LAAC;oBAAG,WAAW,oJAAA,CAAA,UAAM,CAAC,KAAK;8BAAE;;;;;;8BAC7B,6LAAC;oBAAK,WAAW,oJAAA,CAAA,UAAM,CAAC,IAAI;;sCAC1B,6LAAC;sCAAM;;;;;;sCACP,6LAAC;4BACC,MAAK;4BACL,QAAQ;4BACR,aAAY;;;;;;sCAGd,6LAAC;sCAAM;;;;;;sCACP,6LAAC;4BACC,MAAK;4BACL,QAAQ;4BACR,aAAY;;;;;;sCAGd,6LAAC;sCAAM;;;;;;sCACP,6LAAC;4BACC,MAAK;4BACL,QAAQ;4BACR,aAAY;;;;;;sCAGd,6LAAC;4BAAO,MAAK;4BAAS,WAAW,oJAAA,CAAA,UAAM,CAAC,MAAM;sCAAE;;;;;;;;;;;;8BAKlD,6LAAC;oBAAE,WAAW,oJAAA,CAAA,UAAM,CAAC,MAAM;;wBAAE;wBACF;sCACzB,6LAAC;4BAAK,WAAW,oJAAA,CAAA,UAAM,CAAC,IAAI;sCAAE;;;;;;;;;;;;;;;;;;;;;;;AAKxC;KAxCM;uCA0CS","debugId":null}},
    {"offset": {"line": 1115, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/components/ViewContents/ViewContents.module.css [app-client] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"articleActions\": \"ViewContents-module__FSKH0G__articleActions\",\n  \"articleContainer\": \"ViewContents-module__FSKH0G__articleContainer\",\n  \"articleContent\": \"ViewContents-module__FSKH0G__articleContent\",\n  \"comment\": \"ViewContents-module__FSKH0G__comment\",\n  \"commentActions\": \"ViewContents-module__FSKH0G__commentActions\",\n  \"commentAuthor\": \"ViewContents-module__FSKH0G__commentAuthor\",\n  \"commentForm\": \"ViewContents-module__FSKH0G__commentForm\",\n  \"commentTime\": \"ViewContents-module__FSKH0G__commentTime\",\n  \"delete\": \"ViewContents-module__FSKH0G__delete\",\n  \"deleteButton\": \"ViewContents-module__FSKH0G__deleteButton\",\n  \"edit\": \"ViewContents-module__FSKH0G__edit\",\n  \"editButton\": \"ViewContents-module__FSKH0G__editButton\",\n  \"editTextarea\": \"ViewContents-module__FSKH0G__editTextarea\",\n  \"image\": \"ViewContents-module__FSKH0G__image\",\n  \"imageWrapper\": \"ViewContents-module__FSKH0G__imageWrapper\",\n  \"ql-editor\": \"ViewContents-module__FSKH0G__ql-editor\",\n  \"replies\": \"ViewContents-module__FSKH0G__replies\",\n  \"title\": \"ViewContents-module__FSKH0G__title\",\n  \"wrapper\": \"ViewContents-module__FSKH0G__wrapper\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 1142, "column": 0}, "map": {"version":3,"sources":["file:///home/sassinzz13/programming-portfolio/stroberi-writes/client/src/components/ViewContents/ViewContents.jsx"],"sourcesContent":["\"use client\";\nimport React, { useEffect, useState, useContext } from \"react\";\nimport Image from \"next/image\";\nimport styles from \"../ViewContents/ViewContents.module.css\";\nimport { AuthContext } from \"@/context/AuthContext\";\nimport { useParams, useRouter } from \"next/navigation\";\nimport parse from \"html-react-parser\";\nimport \"quill/dist/quill.snow.css\";\n\nconst ViewContents = () => {\n  const { year, month, day, slug } = useParams();\n  const { isLoggedIn, isSuperuser, user, loadingUser } =\n    useContext(AuthContext);\n  const router = useRouter();\n\n  const [post, setPost] = useState(null);\n  const [comments, setComments] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [newComment, setNewComment] = useState({ body: \"\" });\n  const [editingCommentId, setEditingCommentId] = useState(null);\n  const [editingCommentBody, setEditingCommentBody] = useState(\"\");\n  const [postingComment, setPostingComment] = useState(false);\n\n  // Fetch post and comments\n  useEffect(() => {\n    const fetchPost = async () => {\n      try {\n        const url = `http://127.0.0.1:8000/api/blog/posts/${year}/${month}/${day}/${slug}/`;\n        const res = await fetch(url);\n        if (!res.ok) throw new Error(`Failed to fetch post: ${res.status}`);\n        const data = await res.json();\n        setPost(data.post);\n        setComments(data.comments || []);\n      } catch (err) {\n        setError(err.message);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchPost();\n  }, [year, month, day, slug]);\n\n  // ===== COMMENTS =====\n  const handleCommentChange = (e) =>\n    setNewComment({ ...newComment, [e.target.name]: e.target.value });\n\n  const handleCommentSubmit = async (e) => {\n    e.preventDefault();\n    if (!post) return;\n    setPostingComment(true);\n    try {\n      const token = localStorage.getItem(\"accessToken\");\n      const res = await fetch(\n        `http://127.0.0.1:8000/api/blog/posts/${post.id}/comment/`,\n        {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`,\n          },\n          body: JSON.stringify({ body: newComment.body }),\n        }\n      );\n      if (!res.ok) throw new Error(`Failed to post comment: ${res.status}`);\n      const savedComment = await res.json();\n      setComments([savedComment, ...comments]);\n      setNewComment({ body: \"\" });\n    } catch (err) {\n      console.error(err);\n    } finally {\n      setPostingComment(false);\n    }\n  };\n\n  const handleEditClick = (comment) => {\n    setEditingCommentId(comment.id);\n    setEditingCommentBody(comment.body);\n  };\n\n  const handleEditChange = (e) => setEditingCommentBody(e.target.value);\n\n  const handleEditSubmit = async (commentId) => {\n    try {\n      const token = localStorage.getItem(\"accessToken\");\n      const res = await fetch(\n        `http://127.0.0.1:8000/api/blog/comments/${commentId}/edit/`,\n        {\n          method: \"PUT\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`,\n          },\n          body: JSON.stringify({ body: editingCommentBody }),\n        }\n      );\n      if (!res.ok) throw new Error(`Failed to edit comment: ${res.status}`);\n      const updatedComment = await res.json();\n      setComments(\n        comments.map((c) => (c.id === commentId ? updatedComment : c))\n      );\n      setEditingCommentId(null);\n      setEditingCommentBody(\"\");\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  const handleDeleteComment = async (commentId) => {\n    try {\n      const token = localStorage.getItem(\"accessToken\");\n      const res = await fetch(\n        `http://127.0.0.1:8000/api/blog/comments/${commentId}/delete/`,\n        {\n          method: \"DELETE\",\n          headers: { Authorization: `Bearer ${token}` },\n        }\n      );\n      if (!res.ok) throw new Error(`Failed to delete comment: ${res.status}`);\n      setComments(comments.filter((c) => c.id !== commentId));\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  // ===== POST DELETE =====\n  const handleDeletePost = async () => {\n    if (!confirm(\"Are you sure you want to delete this post?\")) return;\n    try {\n      const token = localStorage.getItem(\"accessToken\");\n      const res = await fetch(\n        `http://127.0.0.1:8000/api/blog/posts/${post.id}/delete/`,\n        {\n          method: \"DELETE\",\n          headers: { Authorization: `Bearer ${token}` },\n        }\n      );\n      if (!res.ok) throw new Error(`Failed to delete post: ${res.status}`);\n      alert(\"Post deleted!\");\n      router.push(\"/\");\n    } catch (err) {\n      console.error(err);\n      alert(\"Failed to delete post.\");\n    }\n  };\n\n  if (loading || loadingUser) return <p>Loading...</p>;\n  if (error) return <p>Error: {error}</p>;\n  if (!post) return <p>Post not found</p>;\n\n  return (\n    <div className={styles.wrapper}>\n      <div className={styles.articleContainer}>\n        <h1 className={styles.title}>{post.title}</h1>\n\n        {post.image && (\n          <div className={styles.imageWrapper}>\n            <Image\n              src={`https://res.cloudinary.com/dwdhdzva8/${post.image}`}\n              alt={post.title}\n              fill\n              className={styles.image}\n              sizes=\"(max-width: 1200px) 100vw, 1200px\"\n              priority\n            />\n          </div>\n        )}\n\n        <div className={styles.articleContent}>\n          <div className=\"ql-editor\">\n            {post.body ? parse(post.body) : <p>No content available.</p>}\n          </div>\n        </div>\n\n        {/* ===== SUPERUSER POST ACTIONS ===== */}\n        {isLoggedIn && isSuperuser && (\n          <div className={styles.articleActions}>\n            <button\n              className={styles.editButton}\n              onClick={() => {\n                router.push(`/edit-post/${year}/${month}/${day}/${slug}`);\n              }}\n            >\n              Edit Post\n            </button>\n            <button className={styles.deleteButton} onClick={handleDeletePost}>\n              Delete Post\n            </button>\n          </div>\n        )}\n\n        {/* ===== COMMENTS ===== */}\n        <div className={styles.commentsSection}>\n          <h2>Comments</h2>\n\n          {isLoggedIn ? (\n            <form onSubmit={handleCommentSubmit} className={styles.commentForm}>\n              <textarea\n                name=\"body\"\n                placeholder=\"Add a comment...\"\n                value={newComment.body}\n                onChange={handleCommentChange}\n                required\n              />\n              <button type=\"submit\" disabled={postingComment}>\n                {postingComment ? \"Posting...\" : \"Post Comment\"}\n              </button>\n            </form>\n          ) : (\n            <p>You must be logged in to post a comment.</p>\n          )}\n\n          <div className={styles.commentList}>\n            {comments.length === 0 ? (\n              <p>No comments yet.</p>\n            ) : (\n              comments.map((comment) => (\n                <div key={comment.id} className={styles.comment}>\n                  <p className={styles.commentAuthor}>\n                    {comment.user || \"Anonymous\"}:\n                  </p>\n\n                  {editingCommentId === comment.id ? (\n                    <>\n                      <textarea\n                        value={editingCommentBody}\n                        onChange={handleEditChange}\n                        className={styles.editTextarea}\n                      />\n                      <button onClick={() => handleEditSubmit(comment.id)}>\n                        Save\n                      </button>\n                      <button onClick={() => setEditingCommentId(null)}>\n                        Cancel\n                      </button>\n                    </>\n                  ) : (\n                    <p>{comment.body}</p>\n                  )}\n\n                  {comment.user === user?.username &&\n                    editingCommentId !== comment.id && (\n                      <div className={styles.commentActions}>\n                        <button onClick={() => handleEditClick(comment)}>\n                          Edit\n                        </button>\n                        <button onClick={() => handleDeleteComment(comment.id)}>\n                          Delete\n                        </button>\n                      </div>\n                    )}\n                </div>\n              ))\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ViewContents;\n"],"names":[],"mappings":"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","debugId":null}}]
}